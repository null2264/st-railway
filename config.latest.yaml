# REF: https://github.com/SillyTavern/SillyTavern/blob/13099c43a93afc23a7fb7544e53024e188fbe537/default/config.yaml

whitelistImportDomains:
  - localhost
  - cdn.discordapp.com
  - files.catbox.moe
  - raw.githubusercontent.com
  - char-archive.evulid.cc

# Expose ST so Railway can forward it to a domain
listen: true
port: ${PORT}
# IPv6 support for those who need it
protocol:
    ipv4: true
    ipv6: ${SILLYTAVERN_ENABLE_IPV6}
dnsPreferIPv6: ${SILLYTAVERN_PREFER_IPV6}

# We'll be using multi-user instead
whitelistMode: false
# Enable multi-user
enableUserAccounts: true
# Whether to hide user list or not
enableDiscreetLogin: ${SILLYTAVERN_DISCREET_LOGIN}
# For some reason ST wouldn't let me expose ST if this is set to false
securityOverride: true

logging:
  enableAccessLog: true
  # Minimum log level to display (DEBUG = 0, INFO = 1, WARN = 2, ERROR = 3)
  minLogLevel: ${SILLYTAVERN_LOG_LEVEL}

gemini:
  apiVersion: '${SILLYTAVERN_GEMINI_API_VERSION}'

browserLaunch:
  # We're running this headless, so no need for this
  enabled: false

##region v1.13.4
# TODO: Probably useful?
hostWhitelist:
  # Enable or disable host whitelisting
  enabled: false
  # Scan incoming requests for potential host header spoofing
  scan: true
  # List of allowed hosts. Do not include localhost or IPs, these are safe.
  # Use a dot to create subdomain patterns.
  # Examples:
  # - example.com
  # - .trycloudflare.com
  hosts: []
##endregion

##region v1.13.5
# TODO: Probably not possible in Railway?
# -- SSO LOGIN CONFIGURATION --
sso:
  # Enable's authlia based auto login. Only enable this if you
  # have setup and installed Authelia as a middle-ware on your
  # reverse proxy
  # https://www.authelia.com/
  # This will use auto login to an account with the same username
  # as that used for authlia. (Ensure the username in authlia
  # is an exact match in lowercase with that in sillytavern)
  autheliaAuth: false
  # Enable's authentik based auto login. Only enable this if you
  # have setup and installed Authentik as a middle-ware on your
  # reverse proxy.
  # https://goauthentik.io/
  # This will use auto login to an account with the same username
  # as that used for authentik. (Ensure the username in authentik
  # is an exact match in lowercase with that in sillytavern).
  authentikAuth: false
##endregion
